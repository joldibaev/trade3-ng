<div class="relative flex flex-col" [style.height]="height()">
  @if (loading()) {
    <div class="absolute inset-0 z-10 flex items-center justify-center bg-white">
      <ui-loading width="32" height="32" class="text-primary-300" />
    </div>
  }

  @if (items()?.length) {
    <div
      ngListbox
      class="ui-list h-full outline-none"
      [values]="selectedList()"
      (valuesChange)="valuesChange($event)"
    >
      @for (item of items(); track item[optionField()]) {
        <div #ngOption="ngOption" ngOption class="ui-list-item" [value]="item[optionField()]">
          <span>{{ item[optionLabel()] }}</span>

          @if (ngOption.selected()) {
            <ui-icon name="outline-check" width="18" height="18" />
          }
        </div>
      }
    </div>
  } @else if (!loading()) {
    <div class="text-muted flex h-full items-center justify-center text-sm">Список пуст</div>
  }
</div>
