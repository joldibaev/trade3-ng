<div class="mb-6 flex flex-wrap items-center justify-between gap-4">
  <h1 class="text-2xl font-bold">Кассы</h1>

  <div class="flex items-center gap-2">
    <button uiButton variant="ghost" (click)="reload()">Обновить</button>

    <button uiButton variant="primary" (click)="onCreate()" icon="plus">Создать кассу</button>
  </div>
</div>

@if (cashboxes.hasValue()) {
  @if (cashboxes.value().length > 0) {
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      @for (cashbox of cashboxes.value(); track cashbox.id) {
        <ui-directory-item-card
          [title]="cashbox.name"
          [subtitle]="'Магазин: ' + (cashbox.store.name || 'Нет магазина')"
          (edit)="onEdit(cashbox)"
          (delete)="onDelete(cashbox)"
        >
          <div
            class="mt-auto flex items-center justify-between border-t border-gray-100 pt-3 text-xs text-gray-500"
          >
            <span>ID: {{ cashbox.id }}</span>
            <span>Создан: {{ cashbox.createdAt | date: 'dd.MM.yyyy' }}</span>
          </div>
        </ui-directory-item-card>
      }
    </div>
  } @else {
    <div class="flex flex-col items-center justify-center py-16 text-center">
      <div
        class="mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-yellow-50 text-yellow-600"
      >
        <ui-icon name="box" [width]="32" [height]="32" />
      </div>
      <h3 class="mb-1 text-lg font-semibold text-gray-900">Список касс пуст</h3>
      <p class="mb-6 max-w-sm text-sm text-balance text-gray-500">
        В данном магазине пока нет ни одной кассы. Создайте первую кассу, чтобы начать работу.
      </p>
      <button uiButton variant="primary" (click)="onCreate()" icon="plus">Создать кассу</button>
    </div>
  }
}
